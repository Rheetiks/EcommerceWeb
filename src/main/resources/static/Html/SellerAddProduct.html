<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/Css/Main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<body>






    <section id="SignUpbox" class="vh-100" style="background-color: #9A616D;">
        <div class="container h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col col-xl-10">
                    <div class="card" style="border-radius: 1rem; width: 600px; margin-left: 250px;">
                        <div class="row g-0">
                            <div class="d-flex align-items-center">
                                <div class="card-body p-4 p-lg-5 text-black">


                                    <a class="btn btn-primary" href="/Html/Main.html">Home</a>

                                    <div class="d-flex align-items-center mb-3 pb-1">
                                        <i class="fas fa-cubes fa-2x me-3" style="color: #ff6219;"></i>
                                    </div>

                                    <h3 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Product Details</h3>
                                    <form action="http://localhost:8088/seller/addProducts" id="myform" method="post">
                                        <div class="form-outline mb-4">
                                            <input type="text" id="form2Example07" id="seller-product-name"
                                                name="productName" class="form-control form-control-lg" />
                                            <label class="form-label" for="form2Example27">Product Name</label>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <input type="text" id="productDescription" id="seller-product-description"
                                                name="productDescription" class="form-control form-control-lg"
                                                style="height: 180px;" />
                                            <label class="form-label" for="form2Example17">Product Description</label>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <input type="text" id="form2Example27" id="seller-product-quantity"
                                                name="productQuantity" class="form-control form-control-lg" />
                                            <label class="form-label" for="form2Example27">Quantity</label>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <input type="text" id="form2Example37" id="seller-product-amount"
                                                name="productAmount" class="form-control form-control-lg" />
                                            <label class="form-label" for="form2Example27">Amount</label>
                                        </div>
                                        <div class="form-outline mb-4">
                                            <input type="text" id="form2Example37" name="category.categoryName"
                                                id="seller-product-category" class="form-control form-control-lg" />
                                            <label class="form-label" for="form2Example27">Category</label>
                                        </div>


                                        <div class="input-group">

                                            <div class="custom-file">
                                                <input type="file" name="product" class="custom-file-input"
                                                    id="inputGroupFile01" aria-describedby="inputGroupFileAddon01">
                                                <label class="custom-file-label" for="inputGroupFile01">Add Product
                                                    Images</label>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="">
                                            <button class="btn btn-dark btn-lg btn-block" type="submit">Add
                                                product</button>
                                        </div>
                                    </form>





                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="/Javascript/Main.js"></script>
    <script>
        document.getElementById('myform').addEventListener('submit', function (event) {
        event.preventDefault();
        const form = event.target;
        const xhr = new XMLHttpRequest();
        const jwtToken=getJWTTokenFromCookie("sellerCookie")
        xhr.open('POST', form.action, true);
        xhr.setRequestHeader('Authorization', `Bearer ${jwtToken}`);
        xhr.onload = function () {
            if (xhr.status >= 200 && xhr.status < 300) {
                alert('Form submitted successfully');
                window.location.href="http://localhost:8088/Html/SellerProducts.html";
            } else {
                alert('Form submission failed');
            }
        };
        console.log(jwtToken);
        xhr.onerror = function () {
            console.error('Network error occurred');
        };
        xhr.send(new FormData(form));
});
    </script>



</body>

</html>